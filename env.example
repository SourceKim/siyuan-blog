# SiYuan Blog 环境配置文件
# 复制此文件为 .env 并根据需要修改配置

# ===========================================
# 应用配置
# ===========================================
NODE_ENV=production

# ===========================================
# 网络配置
# ===========================================
# 前端访问地址
FRONTEND_URL=http://localhost:3000
# 后端 API 地址  
BACKEND_URL=http://localhost:8000 
 
# ===========================================
# 部署/同步配置（前端 dist 同步到远端服务器）
# ===========================================
# 目标服务器地址（必填）
SSH_HOST=
# 目标服务器登录用户（必填）
SSH_USER=
# SSH 端口（可选，默认 22）
SSH_PORT=22
# 远端站点根目录（必填，例如 /var/www/siyuan-blog）
REMOTE_WEB_ROOT=/var/www/siyuan-blog
# rsync 参数（可选，注意需加引号）
RSYNC_ARGS="-avz --delete"
# SSH 私钥路径（可选，留空使用默认）
SSH_KEY=

# ===========================================
# 后端镜像发布（buildx）
# ===========================================
# 私有镜像仓库地址（不要带协议）例如：xxxx:5000
DOCKER_REGISTRY=
# 镜像仓库路径（命名空间/仓库名）
BACKEND_IMAGE_REPO=
# 镜像 tag（可选）
BACKEND_IMAGE_TAG=latest
# 构建平台（可选）
BACKEND_DOCKER_PLATFORM=linux/amd64
# 构建上下文目录（可选）
BACKEND_DOCKER_CONTEXT=./siyuan-blog-backend

# ===========================================
# 后端容器运行（deploy）
# ===========================================
# 远端从本地 Registry 拉取镜像时的地址（默认 127.0.0.1:5000）
BACKEND_PULL_REGISTRY=127.0.0.1:5000
# 远端容器名（可选）
BACKEND_CONTAINER_NAME=siyuan-blog-backend
# 远端 Docker 网络名（可选，例如 1panel-network）
BACKEND_DOCKER_NETWORK=
# 宿主机映射端口（可选）
BACKEND_HOST_PORT=8000
# 容器内部端口（可选）
BACKEND_CONTAINER_PORT=8000
# 远端持久化工作目录（可选）
BACKEND_WORKDIR_REMOTE=
# 若非空，则在远端以 sudo 执行 docker 命令（例如：1）
BACKEND_DOCKER_SUDO=

# 容器运行时注入的应用环境变量（存在才会注入）
SIYUAN_API_URL=http://localhost:6806
SIYUAN_TOKEN=
# 运行环境
NODE_ENV=development
# 应用监听端口（容器内）
PORT=8000
# 跨域白名单
CORS_ORIGIN=http://localhost:3000,http://127.0.0.1:3000,http://localhost:5173,http://127.0.0.1:5173
# 日志级别
LOG_LEVEL=info

